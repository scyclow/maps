const t=(t,e,n,g)=>{if(g){const o=g.useElevation?10*X(t,e):dist(t,e,g.focalPoint.x,g.focalPoint.y)/dist(L,B,R,T),i=r(w(hue(n)+map(o,0,1,0,g.hue)),saturation(n)+map(o,0,1,0,g.sat),brightness(n)+map(o,0,1,0,g.brt));stroke(i),fill(i)}else stroke(n),fill(n)},e=t=>t>=90&&t<=150||t>=270&&t<=330;function r(t,r,n,g){t=w(t);let o=0;return e(t)&&(o=1-abs(120-t%180)/30),r=map(o,0,1,r,.65*r),color(t,r,n)}const n=()=>{};function g(t,e){const r=g38<.4&&g38>=.3?.05:g38<.3?.35-g38:0;return map(r,0,.15,t,e)}const o=({x:t,y:e})=>[t,e];function i(t,e,r){if(!r.length)return!1;const n=o(t),g=o(e);return r.some(r=>{if(r.coords.length<10)return u(o(t),o(e),o(r.coords[0]),o(E(r.coords)));const i=r.coords.length<20?2:r.coords.length<40?4:r.coords.length<70?7:10;for(let t=0;t<r.coords.length;t+=i){const e=o(r.coords[t]),a=o(r.coords[t+i]||E(r.coords)),c=u(n,g,e,a);if(c)return c}return!1})}const a=t=>(e,r)=>e<L+t+p(-g14,g14)||e>R-t+p(-g14,g14)||r<T+t+p(-g14,g14)||r>B-t+p(-g14,g14);function c(t,e,r,g,o,i=n,a=!1){const{d:c,angle:s}=d(t,e,r,g);let l=t,h=e;for(let t=0;t<=c;t++){if(a&&t>=.6*c)return;i(l,h)||g35&&y(.7)||g20&&y(.2)||o(l,h,t/c,s),[l,h]=b(s,1,l,h)}}function s(t,e,r,n,g){c(t-r/2,e-n/2,t+r/2,e-n/2,g),c(t-r/2,e+n/2,t+r/2,e+n/2,g),c(t-r/2,e-n/2,t-r/2,e+n/2,g),c(t+r/2,e-n/2,t+r/2,e+n/2,g)}function l(...t){const e=t.reduce((t,e)=>t+e[0],0),r=p();let n=0;for(let g=0;g<t.length;g++)if(r<=(n+=t[g][0]/e))return t[g][1]}const d=(t,e,r,n)=>({d:dist(t,e,r,n),angle:atan2(r-t,n-e)});function h(t,e){if(dist(t[0],t[1],e.x,e.y)>e.r)return!1;const r=[2*width,2*height];return e.coords.reduce((n,g,o)=>{const i=(o+1)%e.coords.length,a=e.coords[i];return u(t,r,g,a)?n+1:n},0)%2==1}function u([t,e],[r,n],[g,o],[i,a]){const c=(r-t)*(a-o)-(i-g)*(n-e);if(0===c)return!1;const s=((a-o)*(i-t)+(g-i)*(a-e))/c,l=((e-n)*(i-t)+(r-t)*(a-e))/c;return s>0&&s<1&&l>0&&l<1?[t+s*(r-t),e+s*(n-e)]:null}function b(t,e,r=0,n=0){return[sin(t)*e+r,cos(t)*e+n]}function f(t,e){const r=[];for(let n=0;n<t;n++)r.push(e(n));return r}let A=parseInt(tokenData.hash.slice(50,58),16);const k=(t,e)=>int(p(t,e));function p(t,e){A^=A<<13,A^=A>>17;const r=((A^=A<<5)<0?1+~A:A)%1e3/1e3;return null!=e?t+r*(e-t):null!=t?r*t:r}function m(t){const e=tokenData.hash.slice(2+2*t,4+2*t);return parseInt(e,16)/255}const y=t=>p()<t,I=(t,e,r,n)=>r+noise(t/15,e/15)*(n-r)+p(-.25,.25),_=()=>y(.5)?1:-1,x=t=>t[int(p(t.length))],P=t=>!!t,E=t=>t[t.length-1],w=t=>(t%360+360)%360,D=t=>(299*red(t)+587*green(t)+114*blue(t))/1e3,C=(t,e)=>(D(t)-D(e))/255;function v(t,e,r,n){push();const g=g36[0];background(g.colors.bg);const o=a(g8),i=2/g38,c=g36.map((t,e)=>{const r=t.isColor&&g.isDark,n=t.isLight&&g.isDark,o=g.isColor&&t.isDark,i=r||o,a=g.isLight&&t.isDark,c=0===e||e===g36.length-1;return{potentialMismatch:i||a,multiplier:c&&t.gradient?map(g38,.2,1.2,2.6,1.5):c&&o?max(1,1.1/g38):c&&r?max(1,.75/g38):c&&a?max(1,1.5/g38):i?max(1,1/g38):a?max(1,.7/g38):n?max(1,.7/g38):1}}),s=5/g38;for(let g=t-s;g<e+s;g+=i){let t=i;for(let e=r-s;e<n+s;e+=t){const r=!g13&&g8>0&&o(e,g)?g36[0]:j(e,g);S(e,g,r,t=i/c[r.ix].multiplier,c[r.ix])}}pop()}function S(t,e,n,g,o){if(g35&&y(.5))return;const i=p(g,2*g)*o.multiplier/3.5,a=o.multiplier>1?2*i:0,c=X(t,e);strokeWeight(i);let s=0,l=0,d=0;if(n.gradient){const r=n.gradient.useElevation?10*c:dist(t,e,n.gradient.focalPoint.x,n.gradient.focalPoint.y)/dist(L,B,R,T);s=map(r,0,1,0,n.gradient.hue),l=map(r,0,1,0,n.gradient.sat),d=map(r,0,1,0,n.gradient.brt)}const{bShadow:h,sShadow:u}=F(t,e,c,n),f=45*g42+3,A=10*g42+5,k=5*g42*(o.potentialMismatch?0:1);stroke(r(w(hue(n.colors.bg)+s+p(-f,f)),saturation(n.colors.bg)+l+p(-A,A)+u,brightness(n.colors.bg)+d+p(-10-k,0)-h));const m=noise(t+g12,e+g12),[I,_]=b(PI+m+p(-QUARTER_PI,QUARTER_PI),5,t+p(-a,a+g37),e+p(-a,a)),[x,P]=b(m+p(-QUARTER_PI,QUARTER_PI),5,t,e);line(I,_,x,P)}function F(t,e,r,n){const g=max(0,X(t+g29,e+g30)-r)*g6*(g10*g38)/300,o=map(D(n.colors.bg),0,255,.5,1),i=n.gradient?4*min(abs(n.gradient.hue)/50,1):1;let a=0,c=0;return n.isDark?(a=500*g,c=500*g):n.isColor?(magnitude=150*i*o,a=g*magnitude,c=g*magnitude*(n.gradient?4:2)):n.isLight&&(a=100*g*i,c=100*g*i),{sShadow:c,bShadow:a}}function M(e,r){push();const{primaryAveCoords:n,secondaryAveCoords:g,tertiaryAveCoords:o,quarternaryAveCoords:i,streetCoords:a}=U(),c=g20?1.75:.5,s=g20?1.25:0,l=.4*c,d=1.6*s,h=.8*c,u=1.2*s;a.forEach((n,g)=>Q(n.coords,(n,g)=>{const o=n+p(-l,l)+e,i=g+p(-l,l)+r,a=j(o,i);a.hideStreets||V(a.ix)||(t(o,i,a.colors.street,a.gradient),g1?f(g35?2:5,()=>{const t=I(o,i,0,20);circle(o+p(-t,t),i+p(-t,t),p(1*g31,1*g32))}):circle(o,i,I(o,i,g31,g32)+d))},e,r)),i.forEach(n=>Q(n.coords,(n,g)=>{const o=n+p(-h,h)+e,i=g+p(-h,h)+r,a=j(o,i);a.hideStreets||V(a.ix)||(t(o,i,a.colors.quarternary,a.gradient),circle(o,i,I(o,i,2*g31,2*g32)+u))},e,r)),o.forEach(n=>Q(n.coords,(n,g)=>{const o=n+p(-c,c)+e,i=g+p(-c,c)+r,a=j(o,i);a.hideStreets||V(a.ix)||(t(o,i,a.colors.tertiary,a.gradient),circle(o,i,I(o,i,3.5*g31,3.5*g32)+s))},e,r)),g.forEach(n=>Q(n.coords,(n,g)=>{const o=n+p(-c,c)+e,i=g+p(-c,c)+r,a=j(o,i);a.hideStreets||V(a.ix)||(t(o,i,a.colors.secondary,a.gradient),circle(o,i,I(o,i,5*g31,5*g32)+s))},e,r)),Q(n.coords,(n,g)=>{const o=n+p(-c,c)+e,i=g+p(-c,c)+r,a=j(o,i);a.hideStreets||V(a.ix)||(t(o,i,a.colors.primary,a.gradient),circle(o,i,I(o,i,6.25*g31,6.25*g32)+s))},e,r),pop()}function Q(e,r,n=0,g=0){const o=a(g8),i=y(g23);e.forEach((a,s)=>{const{x:l,y:d}=a;if(s>0){const{x:t,y:n}=e[s-1];c(t,n,l,d,r,o,i)}if(!o(l,d)&&s===e.length-1&&!g2&&!g1){push();const e=j(l+n,d+g);if(e.hideStreets||V(e.ix)||g35&&y(.8))return;t(l+n,d+g,e.colors.circle,e.gradient);const r=g20;f(10,t=>{const e=g27&&y(.001)?q:circle,o=g35?p(1,6):8;e(l+p(-r,r)+n,d+p(-r,r)+g,o)}),pop()}})}function U(){const t=map(g38,.2,1.2,.1,.17),e=0===g34?.05:2===g34&&.5,r=(t,r,n,g=1)=>e?e*g:t+(r-t)*(1-X(n.x,n.y));SECONDARY_PRB=e||p(t,.2),TERTIARY_PRB=e?1.5*e:p(t,.2),QUARTERNARY_PRB=e?1.5*e:p(2*t,.4),STREET_PRB=e?2*e:p(.25,1),STREET_BLOCK_HEIGHT=20;const n=g5?100:g(17,24);PRIMARY_DRIFT=HALF_PI/n,SECONDARY_DRIFT=HALF_PI/p(n,2*n),TERTIARY_DRIFT=HALF_PI/(g16?2:p(3*n,6*n)),QUARTERNARY_DRIFT=HALF_PI/(g16?2:p(3*n,6*n)),STREET_DRIFT=HALF_PI/(g16?2:p(3*n,6*n));const o=p(T,B),i=p(L,R),a=Y(...l([.25,[i,B+25,d(i,B,0,0).angle]],[.25,[i,T-25,d(i,T,0,0).angle]],[.25,[L-25,o,d(L,o,0,0).angle]],[.25,[R+25,o,d(R,o,0,0).angle]]),{driftAmt:PRIMARY_DRIFT,maxLen:300,ix:0});let c=0,s={};const h=a.coords.map((e,n)=>{const g=r(t,.2,e);if(y(g)&&n<250){const t=c++,r=p()<.5?1:-1;if(s[r]&&s[r]+3>n)return;s[r]=n;const g=-1===r?HALF_PI:PI+HALF_PI;return Y(e.x,e.y,e.angle+g,{direction:r,branch:t,driftAmt:SECONDARY_DRIFT,maxLen:200})}}).filter(P),u=h.flatMap((e,n)=>{return e.coords.map(e=>{const g=r(t,.2,e,1.5);if(y(g)&&n<150){const t=p()<.5?1:-1,r=-1===t?HALF_PI:PI+HALF_PI,n={direction:t,driftAmt:TERTIARY_DRIFT,stopAtIntersections:[a,...h]};return Y(e.x,e.y,e.angle+r,n)}}).filter(P)}),b=u.flatMap(e=>e.coords.map(e=>{const n=r(2*t,.4,e,1.5);if(y(n)){const t=p()<.5?1:-1,r=-1===t?HALF_PI:PI+HALF_PI,n={direction:t,driftAmt:QUARTERNARY_DRIFT,stopAtIntersections:[a,...h,...u]};return Y(e.x,e.y,e.angle+r,n)}}).filter(P)),f=h.flatMap(t=>t.coords.flatMap(t=>{const e={driftAmt:STREET_DRIFT,stopAtIntersections:[a,...h,...u,...b]},n=r(.25,1,t,2);return[y(n)&&Y(t.x,t.y,t.angle+HALF_PI,e),y(n)&&Y(t.x,t.y,t.angle+HALF_PI+PI,e)].filter(P)}));return{primaryAveCoords:a,secondaryAveCoords:h,tertiaryAveCoords:u,quarternaryAveCoords:b,streetCoords:f}}function Y(t,e,r,n={}){const g=n.driftAmt||HALF_PI/16,o=n.stopAtIntersections||[],c=n.maxLen||150,s=a(-180/g38);let l=t,d=e,h=r;const u=[];for(let t=0;t<c;t++){const e=b((h=map(noise(l+g12,d+g12),0,1,h-g,h+g))+(g0&&j(l,d).ix>0?g0:0),STREET_BLOCK_HEIGHT,l,d),r=e[0],n=e[1];if(t){if(i({x:l,y:d},{x:r,y:n},o))break}if(l=r,d=n,u.push({x:l,y:d,angle:h}),s(l,d))break}return{coords:u,direction:n.direction||0,branch:n.branch||0}}const q=(t,e,r)=>{push();const n=n=>b(n*TWO_PI/10,n%2==0?r/2:r,t,e);beginShape(),curveVertex(...n(-1)),f(12,t=>{curveVertex(...n(t))}),endShape(),pop()};function N(){if(g17){const e=g8<50?p(1.7,2.1):p(1.98,2.02);s(g40,g41,W-g8*e,H-g8*e,(e,r)=>{const n=g13?j(e,r,!0):g36[0];n.hideStreets||V(n.ix)||(t(e+g40,r+g41,n.colors.circle,n.gradient),circle(e,r,I(e,r,g4/g38,2.5*g4/g38)))})}}function O(){const{elevationAverage:t,elevationMin:e}=J(),r=G(),n=p(360);g36=[{ix:0,threshold:g33>=30?e:t,hideStreets:!1,...r[g22](n,g15/p(3,15),0,g11)}];const g=["whiteAndBlack","paper"].includes(g22),o=["bright","faded"].includes(g22),i=5===g19&&o?x(["bright","whiteAndBlack"]):!(5!==g19||!g)&&"bright";let a=0;const c=z(n),s=(t,e,n)=>{const g=y(.2)&&!g3,o=n===g33-1?g15/p(3,8):g15;let s;if(5!==g19||n%2)if(5===g19&&n%2){l([1,20],[1,120],[1,180]);const e=w(t.baseHue+20);s=r[i](e,o,n,t.isDark)}else{const e=l(...t.neighbors),g="blackAndWhite"===e||"whiteAndBlack"===e?t.baseHue:(t=>"path"===g28?t+g25:c[a++%c.length])(t.baseHue);s=r[e](g,o,n,t.isDark)}else s=g36[0];return{hideStreets:g,...s,ix:n,threshold:e}};for(let t=1;t<g33;t++){const e=g36[t-1],r=t===g33-1?1:e.threshold+.02;g36.push(s(e,r,t))}}const G=()=>{const t=color(0,0,10),e=color(0,0,90),n=color(0,0,85),g=(t,e=360)=>p()<.09||t?{focalPoint:{x:p(L,R),y:p(T,B)},useElevation:p()<.9,hue:p(e/4,e)*_(),sat:2,brt:1}:null;return{blackAndWhite:(e,r,g,o)=>{let i;return i=[2,4].includes(g19)?"light":3===g19?"dark":4===g19?"color":"all",{name:"blackAndWhite",baseHue:e,colors:{bg:t,primary:n,secondary:n,tertiary:n,quarternary:n,street:n,circle:n},neighbors:{contrast:[[1,"whiteAndBlack"],[1,"bright"]],light:[[8,"whiteAndBlack"],[2,"bright"]],dark:[[1,"neon"]],color:[[1,"bright"]],all:[[7,"whiteAndBlack"],[3,"bright"],[3,"neon"]]}[i],gradient:null,isDark:!0,isColor:!1,isLight:!1}},whiteAndBlack:(r,n,g,o)=>{let i;i=1===g19?"contrast":3===g19?"dark":[2,4].includes(g19)?"color":"all";const a={contrast:[[g33>3?1:0,"bright"],[3,"blackAndWhite"]],dark:[[5,"blackAndWhite"],[5,"neon"]],color:[[1,"bright"]],all:[[6,"blackAndWhite"],[5,"neon"],[5,"bright"]]}[i];return{name:"whiteAndBlack",baseHue:r,colors:{bg:e,primary:t,secondary:t,tertiary:t,quarternary:t,street:t,circle:t},neighbors:a,gradient:null,isDark:!1,isColor:!1,isLight:!0}},neon:(t,e,n,o)=>{const i=r(t,30,o?22:12);let a,c=r(t,55,92);return C(i,c)>-.5&&(c=Z(i,c,-.5)),{name:"neon",baseHue:t,colors:{bg:i,primary:c,secondary:c,tertiary:c,quarternary:c,street:c,circle:c},neighbors:{contrast:[[1,"bright"]],dark:[[2,"blackAndWhite"],[1,"neon"]],light:[[2,"whiteAndBlack"],[1,"bright"]],color:[[1,"bright"]],all:[[4,"bright"],[5,"blackAndWhite"],[3,"whiteAndBlack"],[2,"neon"]]}[a=2===g33?"color":1===g19?"contrast":2===g19?"light":3===g19?"dark":4===g19?"color":"all"],gradient:g(g7,e),isDark:!0,isColor:!1,isLight:!1}},bright:(t,e,n,o)=>{const i=g9&&n,a=r(t,55,95),c=i>0?K(t+180,50,85,a):color(w(t+180),30,15);let s;return s=1===g19?"contrast":2===g19?"light":3===g19?"dark":4===g19?"color":"all",{name:"bright",baseHue:t,colors:{bg:a,primary:c,secondary:c,tertiary:c,quarternary:c,street:c,circle:c},neighbors:{contrast:[[3,"blackAndWhite"],[g33>3?1:0,"whiteAndBlack"],[3,"neon"]],dark:[[2,"blackAndWhite"],[1,"neon"]],light:[[1,"whiteAndBlack"]],color:[[1,"bright"]],all:[[4,"blackAndWhite"],[2,"whiteAndBlack"],[1,"neon"]]}[s],invertStreets:i,gradient:g(g7,e),isDark:!1,isColor:!0,isLight:!1}},paper:(t,e,r,n)=>{const o=color(w(t),8,91),i=K(t+g25,60,30,o),a=K(t+g25-10,40,35,o),c=K(t+g25-20,40,35,o);let s;return s=2===g19?"light":3===g19?"dark":4===g19?"color":"all",{name:"paper",baseHue:t,colors:{bg:o,primary:i,secondary:i,tertiary:a,quarternary:a,street:c,circle:c},neighbors:{dark:[[1,"blackAndWhite"],[g33>2?1:0,"neon"],[1,"burnt"]],light:[[1,"whiteAndBlack"],[1,"bright"],[1,"faded"]],color:[[1,"bright"],[1,"faded"]],all:[[6,"blackAndWhite"],[g33>2?6:0,"neon"],[7,"burnt"],[1,"whiteAndBlack"],[1,"bright"],[2,"faded"]]}[s],gradient:g(!0,g7?e:p(90)),isDark:!1,isColor:!1,isLight:!0}},faded:(t,e,n,o)=>{const i=r(t,35,95),a=K(t+g25,85,30,i),c=K(t+g25-10,85,30,i),s=K(t+g25-20,85,30,i);let l;return{name:"faded",baseHue:t,colors:{bg:i,primary:a,secondary:a,tertiary:c,quarternary:c,street:s,circle:s},neighbors:{dark:[[1,"blackAndWhite"],[1,"neon"],[2,"burnt"]],light:[[1,"whiteAndBlack"],[1,"bright"],[2,"paper"]],color:[[1,"bright"]],all:[[2,"burnt"],[2,"paper"],[12,"blackAndWhite"],[5,"neon"],[5,"whiteAndBlack"],[1,"bright"]]}[l=2===g19?"light":3===g19?"dark":4===g19?"color":"all"],gradient:g(g7,g7?e:p(75)),isDark:!1,isColor:!0,isLight:!1}},burnt:(t,e,r,n)=>{const o=color(w(t),35,n?17:15),i=g25>0?1:-1,a=color(w(t+g25),50,85),c=color(w(t+g25-30*i),50,85),s=color(w(t+g25-60*i),50,85);let l;return{name:"burnt",baseHue:t,colors:{bg:o,primary:a,secondary:a,tertiary:c,quarternary:c,street:s,circle:s},neighbors:{dark:[[3,"blackAndWhite"],[2,"neon"]],light:[[2,"whiteAndBlack"],[1,"bright"],[2,"faded"]],color:[[1,"bright"],[2,"faded"]],all:[[6,"whiteAndBlack"],[4,"faded"],[8,"blackAndWhite"],[4,"neon"],[7,"bright"]]}[l=2===g33?"color":2===g19?"light":3===g19?"dark":4===g19?"color":"all"],gradient:g(g7,e),isDark:!0,isColor:!1,isLight:!1}}}};function K(t,r,n,g){const o=w(t),i=e(hue)?.9:.7;return Z(g,color(o,r,n),i)}function V(t){return g38>=1&&g20&&t<g33-1&&t>0}function j(t,e){const r=X(t,e);for(let t=0;t<g36.length;t++)if(r<g36[t].threshold)return g36[t];return g36[g36.length-1]}function z(t){switch(abs(g25)){case 0:return[t];case 10:return[t,t+10,t+20,t+30,t+40,t+50,t+60];case 20:return[t,t+20,t-20];case 100:return[t,t+120,t+180];case 120:return[t,t+120,t-120];case 150:return[t,t+150,t+210];case 180:return[t,t+180]}}function J(){let t=0,e=0,r=1,n=0;const g=30/g38;for(let o=L;o<R;o+=g)for(let i=T;i<B;i+=g){const g=X(o,i);t+=g,g<r&&(r=g),g>n&&(n=g),e++}return{elevationAverage:t/e,elevationMin:r,elevationMax:n}}function X(t,e){return noise(t/g10+g12,e/g10+g12)}const Z=(t,e,r=.4)=>{const n=(r-C(t,e))/.3;return color(hue(e),saturation(e)+20*n,brightness(e)-30*n)};function $(){83===keyCode&&saveCanvas(__canvas,"maps-"+Date.now(),"png")}function setup(){g44=min(innerWidth,innerHeight),__canvas=createCanvas(g44,g44),noiseSeed(p(1e6)+p(1e6)+p(1e3)),g38=p()+.2,g21=g44/800;const t=g38*g21;W=width/t,H=height/t,L=round(-width/(2*t),4),R=round(width/(2*t),4),T=round(-height/(2*t),4),B=round(height/(2*t),4),colorMode(HSB,360,100,100),tt(),O(),console.log("What are you looking for?")}function draw(){noLoop(),translate(width/2,height/2),scale(g38*g21);const t=1.5*max(abs(g40),abs(g41));rotate(g3),v(T-t,B+t,L-t,R+t),rotate(g26),M(g40,g41),N()}function tt(){g20=y(.18),g1=y(.15),g2=y(.1),g16=y(.1),g5=y(g(.05,.15)),g27=y(.02),g35=y(.01),g37=y(.01)?p(30,100):0,g0=y(.2)?p(QUARTER_PI/2,QUARTER_PI)*_():0,g10=p(150,750)/g38,g34=l([.03,0],[.89,1],[.08,2]),g23=y(.25)?p(.05,.2):0,g19=l([40,0],[15,1],[5,2],[11,3],[27,4],[g38>=1&&g20?0:2,5]);const t=g1||g16?15:map(g38,1.2,.2,1,20);g33=l([t,1],[6,2],[36,3],[34,k(4,7)],[g16?0:10,k(7,10)],[g16?0:4,k(10,15)],[g16?0:2,30]),g22=l([g33<=4?20:0,"paper"],[g33<=4?20:0,"faded"],[g33<=4?15:0,"burnt"],[g33<=4?10:5,"bright"],[6,"whiteAndBlack"],[4,"blackAndWhite"],[g38<=.3?0:4,"neon"]),g25=l([3,0],[2,20],[1,100],[2,120],[1,150],[3,180])*_(),g7=y(.03);let e=.035;g9=!1,g11=!1,g28=x(["path","preset"]),1===g19?(g25=0,g33=l([6,3],[1,4],[1,5]),g22=l([7,"bright"],[3,"whiteAndBlack"],[5,"blackAndWhite"],[5,"neon"])):3===g19?(g22=l([20,"burnt"],[5,"blackAndWhite"],[5,"neon"]),g20=p()<.4,g1=p()<.3,g11=!0):4===g19?(e=.05,g22=l([20,"faded"],[30,"bright"],[10,"paper"],[30,"whiteAndBlack"]),g33=l([25,3],[35,k(4,6)],[25,k(6,9)],[g16?0:10,k(9,15)],[g16?0:5,k(15,30)]),g25=l([g33>=12?2:1,10],[4,20],[g33>=12?1:2,100],[3,120],[g33>=12?1:3,150],[3,180])*_(),y(.05)?(g7=!0,g9=!0):y(.5)&&g33<=4&&(g9=!0)):5===g19&&(g10=p(150,500)/g38,g33=50,g22=l([1,"paper"],[1,"faded"],[1,"bright"],[1,"whiteAndBlack"]),g25=l([6,0],[2,20],[1,120],[1,180])*_()),g15=y(e)?p(720,3e3):200,("blackAndWhite"===g22||"neon"===g22&&g33>2&&3!==g19)&&(g25=l([1,0],[2,180])*_()),2===g33&&["neon","burnt"].includes(g22)&&(g25=l([5,0],[1,100],[1,120],[1,150],[1,180])*_());const r=g(1,1.6)*(g35?.7:1);if(g31=.7*r,g32=1.3*r,g42=p()<.5||["blackAndWhite","neon","burnt"].includes(g22)?0:p(.2,.7),g40=0,g41=0,g3=0,g13=y(.5),g17=g13||y(.75),g8=l([6.25,p(175,200)],[75,p(30,60)],[20,p(20,30)])/g38,g4=map(g38,.2,1.2,1.6,2.8)+p(-.2,.2),g14=l([5,0],[3,p(3)/g38],[1,p(3,g8/2)/g38]),g26=p(-5e-4,5e-4),g40=p(-2,2)/g38,g41=p(-2,2)/g38,g18=y(.015),!g17&&g8*g38<=30&&(g14=g8-5/g38,g17=!1,g13=!1),g18){g17=!0,g13=!0,g4=p(1.4,3),g14=l([5,0],[3,p(3)/g38],[1,p(3,g8/2)/g38]);const t=y(.333)?2:1;g40=p(-250,250)/(t*g38),g41=p(-250,250)/(t*g38),g3=p(-QUARTER_PI,QUARTER_PI)/(4*t)}g14=min(180/g38,g14),g29=5*_(),g30=5*_(),g6=l([15,0],[50,1],[30,2],[g15>200?20:1,15])}g36=[],g12=1e5;